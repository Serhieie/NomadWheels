import{u as j,j as n,r as w,f as v,a as S,s as P,b as A,c as M,n as _,d as $,R as u,e as R,g as k,h as D}from"./index-Bwafsvk0.js";import{B as b,u as C,s as q,c as T,a as B,o as V,f as H,M as G}from"./Modal-BcEAj_W5.js";import{C as K}from"./CamperListItem-yo61eEvq.js";const J=()=>[{icon:"camper1",value:"Van"},{icon:"camper2",value:"Fully Integrated"},{icon:"camper3",value:"Alcove"}],Q=e=>e.details.length>0||e.form!==""||e.location!=="",U="_camperListWrapper_1o67c_1",X="_camperList_1o67c_1",y={camperListWrapper:U,camperList:X},Y="_noItemsMessage_qgz3i_1",Z="_noItems_qgz3i_1",ee="_buttonWrapper_qgz3i_23",f={noItemsMessage:Y,noItems:Z,buttonWrapper:ee},te=()=>{const e=j(),t=()=>{e(w()),e(v({page:1}))};return n.jsxs("div",{className:f.noItems,children:[n.jsx("p",{className:f.noItemsMessage,children:"Sorry, no campers available with the current filters."}),n.jsxs("div",{className:f.buttonWrapper,children:[" ",n.jsx(b,{type:"button",text:"Load Campers",width:200,handleClick:t})]})]})},se=()=>{const{campers:e,page:t,loading:s,noItems:r}=C(),a=S(P),c=j(),l=e.length===0;A.useEffect(()=>{a!=null&&a.location||a!=null&&a.form||(a==null?void 0:a.details.length)>0?c(M(a)):c(v({page:t}))},[t,c,a]);const o=()=>{s||c($(t+1))};return n.jsx("div",{className:y.camperListWrapper,children:n.jsxs("div",{children:[l&&!s?n.jsx(te,{}):n.jsx("ul",{className:y.camperList,children:e==null?void 0:e.map(i=>n.jsx(K,{item:i,icon:"emptyHeart"},_()))}),!r&&!l&&n.jsx(b,{type:"button",text:"Load more",loader:!0,accent:!1,handleClick:o})]})})};var L={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},I=u.createContext&&u.createContext(L),ne=["attr","size","title"];function re(e,t){if(e==null)return{};var s=ae(e,t),r,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ae(e,t){if(e==null)return{};var s={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;s[r]=e[r]}return s}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},d.apply(this,arguments)}function N(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,r)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?N(Object(s),!0).forEach(function(r){ce(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):N(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function ce(e,t,s){return t=oe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function oe(e){var t=ie(e,"string");return typeof t=="symbol"?t:t+""}function ie(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W(e){return e&&e.map((t,s)=>u.createElement(t.tag,h({key:s},t.attr),W(t.child)))}function le(e){return t=>u.createElement(ue,d({attr:h({},e.attr)},t),W(e.child))}function ue(e){var t=s=>{var{attr:r,size:a,title:c}=e,l=re(e,ne),o=a||s.size||"1em",i;return s.className&&(i=s.className),e.className&&(i=(i?i+" ":"")+e.className),u.createElement("svg",d({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,r,l,{className:i,style:h(h({color:e.color||s.color},s.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),c&&u.createElement("title",null,c),e.children)};return I!==void 0?u.createElement(I.Consumer,null,s=>t(s)):t(L)}function pe(e){return le({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19.79 5.61A.998.998 0 0 0 19 4H6.83l7.97 7.97 4.99-6.36zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41L2.81 2.81z"},child:[]}]})(e)}const me="_formWrapper_cb3t1_1",de="_filterReset_cb3t1_7",he="_form_cb3t1_1",x={formWrapper:me,filterReset:de,form:he},_e="_label_s4sxn_1",fe="_pinSvg_s4sxn_11",xe="_locationInput_s4sxn_19",g={label:_e,pinSvg:fe,locationInput:xe},ge=({register:e})=>n.jsxs("label",{htmlFor:"location",className:g.label,children:["Location",n.jsx("input",{className:g.locationInput,...e("location"),id:"location",placeholder:"City"}),n.jsx("svg",{className:g.pinSvg,width:18,height:20,children:n.jsx("use",{href:`${q}#icon-Pin`})})]}),je="_label_15el9_1",ve="_checkbox_15el9_7",be="_equipmentIcon_15el9_48",ye="_typesIcon_15el9_53",Ie="_acIcon_15el9_59",m={label:je,checkbox:ve,equipmentIcon:be,typesIcon:ye,acIcon:Ie},z=({label:e,register:t,type:s,kindOfItems:r})=>{const a=_(),c=s==="checkbox",l=e.icon==="Shower"?"Shower/WC":c?e.icon:e.value,o=e.icon;return n.jsxs(n.Fragment,{children:[n.jsx("input",{className:m.checkbox,...t(r),value:c?e.icon:e.value,id:c?a:e.value,type:s,name:r}),n.jsxs("label",{htmlFor:c?a:e.value,className:m.label,children:[n.jsx("svg",{className:R(m.equipmentIcon,{[m.typesIcon]:!c,[m.acIcon]:o==="AC"}),width:c?32:40,height:c?32:28,children:n.jsx("use",{href:`${q}#icon-${o}`})}),l]})]})},Ne="_equipment_sz517_1",Oe="_result_sz517_7",we="_resultSpan_sz517_7",Se="_equipmentWrapper_sz517_13",Pe="_equipment_list_sz517_28",Ce="_resultAmount_sz517_44",p={equipment:Ne,result:Oe,resultSpan:we,equipmentWrapper:Se,equipment_list:Pe,resultAmount:Ce},qe=({labels:e,register:t})=>{const{campers:s}=C(),r=s.length;return n.jsxs("div",{className:p.equipmentWrapper,children:[r&&n.jsxs("div",{className:p.result,children:[n.jsx("span",{children:"Filters"}),n.jsxs("span",{className:p.resultSpan,children:["On page : ",n.jsx("span",{className:p.resultAmount,children:r})," cars"]})]}),n.jsxs("div",{className:p.equipment,children:[n.jsx("h3",{children:"Vehicle equipment"}),n.jsx("hr",{}),n.jsx("ul",{className:p.equipment_list,children:e==null?void 0:e.map(a=>n.jsx(z,{type:"checkbox",label:a,register:t,kindOfItems:"details"},_()))})]})]})},Le="_type_1awk0_1",We="_type_list_1awk0_21",O={type:Le,type_list:We},ze=({types:e,register:t})=>n.jsxs("div",{className:O.type,children:[n.jsx("hr",{}),n.jsx("h3",{children:"Vehicle type"}),n.jsx("ul",{className:O.type_list,children:e==null?void 0:e.map(s=>n.jsx(z,{type:"radio",label:s,register:t,kindOfItems:"form"},_()))})]}),Fe=()=>{const e=S(P),t=Q(e),s=j(),r=T(),a=J(),{register:c,handleSubmit:l,reset:o}=B({defaultValues:e,resolver:V(H)}),i=E=>{s(k(E))},F=()=>{s(w()),s(D(!1)),s(v({page:1})),o({location:"",details:[],form:""})};return n.jsxs("div",{className:x.formWrapper,children:[t&&n.jsxs("span",{onClick:F,className:x.filterReset,children:[n.jsx(pe,{size:22}),"Reset"]}),n.jsxs("form",{className:x.form,onSubmit:l(i),children:[n.jsx(ge,{register:c}),n.jsx(qe,{labels:r,register:c}),n.jsx(ze,{types:a,register:c}),n.jsx(b,{type:"submit",text:"Search",loader:!0})]})]})},Ee="_catalog_bzrr5_1",Ae={catalog:Ee},Me=()=>n.jsxs("div",{className:Ae.catalog,children:[n.jsx(Fe,{}),n.jsx(se,{}),n.jsx(G,{})]});function De(){return n.jsx(n.Fragment,{children:n.jsx(Me,{})})}export{De as default};
