import{u as g,j as n,r as S,f as P,a as C,s as L,b as $,c as R,n as _,d as k,R as u,e as D,g as T,h as B}from"./index-Bc_9nDo0.js";import{u as v,B as b,s as W,c as V,a as H,o as G,f as K,M as J}from"./Modal-CBMlkBXy.js";import{C as Q}from"./CamperListItem-1kTvz5K7.js";const U=()=>[{icon:"camper1",value:"Van"},{icon:"camper2",value:"Fully Integrated"},{icon:"camper3",value:"Alcove"}],X=e=>e.details.length>0||e.form!==""||e.location!=="",Y="_camperListWrapper_1o67c_1",Z="_camperList_1o67c_1",I={camperListWrapper:Y,camperList:Z},ee="_noItemsMessage_1ju4z_1",te="_noItems_1ju4z_1",se="_buttonWrapper_1ju4z_25",f={noItemsMessage:ee,noItems:te,buttonWrapper:se},ne=()=>{const e=g(),{loading:t,filteredLoading:s}=v(),r=()=>{e(S()),e(P({page:1}))};return!t&&!s&&n.jsxs("div",{className:f.noItems,children:[n.jsx("p",{className:f.noItemsMessage,children:"Sorry, no campers available with the current filters."}),n.jsxs("div",{className:f.buttonWrapper,children:[" ",n.jsx(b,{type:"button",text:"Load Campers",width:200,handleClick:r})]})]})},re=()=>{const{campers:e,page:t,loading:s,noItems:r}=v(),a=C(L),c=g(),l=e.length===0;$.useEffect(()=>{a!=null&&a.location||a!=null&&a.form||(a==null?void 0:a.details.length)>0?c(R(a)):c(P({page:t}))},[t,c,a]);const o=()=>{s||c(k(t+1))};return n.jsxs("div",{className:I.camperListWrapper,children:[l?n.jsx(ne,{}):n.jsx("ul",{className:I.camperList,children:e==null?void 0:e.map(i=>n.jsx(Q,{item:i,icon:"emptyHeart"},_()))}),!r&&!l&&n.jsx(b,{type:"button",text:"Load more",loader:!0,accent:!1,handleClick:o})]})};var z={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},N=u.createContext&&u.createContext(z),ae=["attr","size","title"];function ce(e,t){if(e==null)return{};var s=oe(e,t),r,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oe(e,t){if(e==null)return{};var s={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;s[r]=e[r]}return s}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},d.apply(this,arguments)}function O(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,r)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?O(Object(s),!0).forEach(function(r){ie(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function ie(e,t,s){return t=le(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function le(e){var t=ue(e,"string");return typeof t=="symbol"?t:t+""}function ue(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q(e){return e&&e.map((t,s)=>u.createElement(t.tag,h({key:s},t.attr),q(t.child)))}function me(e){return t=>u.createElement(pe,d({attr:h({},e.attr)},t),q(e.child))}function pe(e){var t=s=>{var{attr:r,size:a,title:c}=e,l=ce(e,ae),o=a||s.size||"1em",i;return s.className&&(i=s.className),e.className&&(i=(i?i+" ":"")+e.className),u.createElement("svg",d({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,r,l,{className:i,style:h(h({color:e.color||s.color},s.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),c&&u.createElement("title",null,c),e.children)};return N!==void 0?u.createElement(N.Consumer,null,s=>t(s)):t(z)}function de(e){return me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19.79 5.61A.998.998 0 0 0 19 4H6.83l7.97 7.97 4.99-6.36zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41L2.81 2.81z"},child:[]}]})(e)}const he="_formWrapper_cb3t1_1",_e="_filterReset_cb3t1_7",fe="_form_cb3t1_1",x={formWrapper:he,filterReset:_e,form:fe},xe="_label_s4sxn_1",je="_pinSvg_s4sxn_11",ge="_locationInput_s4sxn_19",j={label:xe,pinSvg:je,locationInput:ge},ve=({register:e})=>n.jsxs("label",{htmlFor:"location",className:j.label,children:["Location",n.jsx("input",{className:j.locationInput,...e("location"),id:"location",placeholder:"City"}),n.jsx("svg",{className:j.pinSvg,width:18,height:20,children:n.jsx("use",{href:`${W}#icon-Pin`})})]}),be="_label_15el9_1",ye="_checkbox_15el9_7",Ie="_equipmentIcon_15el9_48",Ne="_typesIcon_15el9_53",Oe="_acIcon_15el9_59",p={label:be,checkbox:ye,equipmentIcon:Ie,typesIcon:Ne,acIcon:Oe},F=({label:e,register:t,type:s,kindOfItems:r})=>{const a=_(),c=s==="checkbox",l=e.icon==="Shower"?"Shower/WC":c?e.icon:e.value,o=e.icon;return n.jsxs(n.Fragment,{children:[n.jsx("input",{className:p.checkbox,...t(r),value:c?e.icon:e.value,id:c?a:e.value,type:s,name:r}),n.jsxs("label",{htmlFor:c?a:e.value,className:p.label,children:[n.jsx("svg",{className:D(p.equipmentIcon,{[p.typesIcon]:!c,[p.acIcon]:o==="AC"}),width:c?32:40,height:c?32:28,children:n.jsx("use",{href:`${W}#icon-${o}`})}),l]})]})},we="_equipment_sz517_1",Se="_result_sz517_7",Pe="_resultSpan_sz517_7",Ce="_equipmentWrapper_sz517_13",Le="_equipment_list_sz517_28",We="_resultAmount_sz517_44",m={equipment:we,result:Se,resultSpan:Pe,equipmentWrapper:Ce,equipment_list:Le,resultAmount:We},ze=({labels:e,register:t})=>{const{campers:s}=v(),r=s.length;return n.jsxs("div",{className:m.equipmentWrapper,children:[r&&n.jsxs("div",{className:m.result,children:[n.jsx("span",{children:"Filters"}),n.jsxs("span",{className:m.resultSpan,children:["On page : ",n.jsx("span",{className:m.resultAmount,children:r})," cars"]})]}),n.jsxs("div",{className:m.equipment,children:[n.jsx("h3",{children:"Vehicle equipment"}),n.jsx("hr",{}),n.jsx("ul",{className:m.equipment_list,children:e==null?void 0:e.map(a=>n.jsx(F,{type:"checkbox",label:a,register:t,kindOfItems:"details"},_()))})]})]})},qe="_type_1awk0_1",Fe="_type_list_1awk0_21",w={type:qe,type_list:Fe},Ee=({types:e,register:t})=>n.jsxs("div",{className:w.type,children:[n.jsx("hr",{}),n.jsx("h3",{children:"Vehicle type"}),n.jsx("ul",{className:w.type_list,children:e==null?void 0:e.map(s=>n.jsx(F,{type:"radio",label:s,register:t,kindOfItems:"form"},_()))})]}),Ae=()=>{const e=C(L),t=X(e),s=g(),r=V(),a=U(),{register:c,handleSubmit:l,reset:o}=H({defaultValues:e,resolver:G(K)}),i=y=>{const{location:A}=y,M=A.trim();s(T({...y,location:M}))},E=()=>{s(S()),s(B(!1)),o({location:"",details:[],form:""})};return n.jsxs("div",{className:x.formWrapper,children:[t&&n.jsxs("span",{onClick:E,className:x.filterReset,children:[n.jsx(de,{size:22}),"Reset"]}),n.jsxs("form",{className:x.form,onSubmit:l(i),children:[n.jsx(ve,{register:c}),n.jsx(ze,{labels:r,register:c}),n.jsx(Ee,{types:a,register:c}),n.jsx(b,{type:"submit",text:"Search",filters:!0})]})]})},Me="_catalog_bzrr5_1",$e={catalog:Me},Re=()=>n.jsxs("div",{className:$e.catalog,children:[n.jsx(Ae,{}),n.jsx(re,{}),n.jsx(J,{})]});function Be(){return n.jsx(n.Fragment,{children:n.jsx(Re,{})})}export{Be as default};
