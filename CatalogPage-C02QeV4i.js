import{u as j,j as n,r as S,f as b,a as P,s as C,b as L,c as A,n as f,d as $,R as u,e as R,g as k,h as D}from"./index-BCVIuQPf.js";import{B as v,u as y,s as q,c as T}from"./LabelList-DecbD1CA.js";import{C as B}from"./CamperListItem-DYdMjJiJ.js";import{u as V,o as H,f as G,M as K}from"./Modal-CXdRfBC8.js";const J=()=>[{icon:"camper1",value:"Van"},{icon:"camper2",value:"Fully Integrated"},{icon:"camper3",value:"Alcove"}],Q=e=>e.details.length>0||e.form!==""||e.location!=="",U="_camperListWrapper_gchhb_1",X="_camperList_gchhb_1",I={camperListWrapper:U,camperList:X},Y="_noItemsMessage_qgz3i_1",Z="_noItems_qgz3i_1",ee="_buttonWrapper_qgz3i_23",_={noItemsMessage:Y,noItems:Z,buttonWrapper:ee},te=()=>{const e=j(),t=()=>{e(S()),e(b({page:1}))};return n.jsxs("div",{className:_.noItems,children:[n.jsx("p",{className:_.noItemsMessage,children:"Sorry, no campers available with the current filters."}),n.jsxs("div",{className:_.buttonWrapper,children:[" ",n.jsx(v,{type:"button",text:"Load Campers",width:200,handleClick:t})]})]})},se=()=>{const{campers:e,page:t,loading:s,noItems:r}=y(),a=P(C),c=j(),l=e.length===0;L.useEffect(()=>{a!=null&&a.location||a!=null&&a.form||(a==null?void 0:a.details.length)>0?c(A(a)):c(b({page:t}))},[t,c,a]);const o=()=>{s||c($(t+1))};return n.jsxs("div",{className:I.camperListWrapper,children:[l&&!s?n.jsx(te,{}):n.jsx("ul",{className:I.camperList,children:e==null?void 0:e.map(i=>n.jsx(B,{item:i,icon:"emptyHeart"},f()))}),!r&&!l&&n.jsx(v,{type:"button",text:"Load more",loading:s,accent:!1,handleClick:o})]})};var W={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O=u.createContext&&u.createContext(W),ne=["attr","size","title"];function re(e,t){if(e==null)return{};var s=ae(e,t),r,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ae(e,t){if(e==null)return{};var s={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;s[r]=e[r]}return s}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},d.apply(this,arguments)}function N(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,r)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?N(Object(s),!0).forEach(function(r){ce(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):N(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function ce(e,t,s){return t=oe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function oe(e){var t=ie(e,"string");return typeof t=="symbol"?t:t+""}function ie(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z(e){return e&&e.map((t,s)=>u.createElement(t.tag,h({key:s},t.attr),z(t.child)))}function le(e){return t=>u.createElement(ue,d({attr:h({},e.attr)},t),z(e.child))}function ue(e){var t=s=>{var{attr:r,size:a,title:c}=e,l=re(e,ne),o=a||s.size||"1em",i;return s.className&&(i=s.className),e.className&&(i=(i?i+" ":"")+e.className),u.createElement("svg",d({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,r,l,{className:i,style:h(h({color:e.color||s.color},s.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),c&&u.createElement("title",null,c),e.children)};return O!==void 0?u.createElement(O.Consumer,null,s=>t(s)):t(W)}function me(e){return le({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19.79 5.61A.998.998 0 0 0 19 4H6.83l7.97 7.97 4.99-6.36zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41L2.81 2.81z"},child:[]}]})(e)}const pe="_formWrapper_cb3t1_1",de="_filterReset_cb3t1_7",he="_form_cb3t1_1",x={formWrapper:pe,filterReset:de,form:he},fe="_label_s4sxn_1",_e="_pinSvg_s4sxn_11",xe="_locationInput_s4sxn_19",g={label:fe,pinSvg:_e,locationInput:xe},ge=({register:e})=>n.jsxs("label",{htmlFor:"location",className:g.label,children:["Location",n.jsx("input",{className:g.locationInput,...e("location"),id:"location",placeholder:"City"}),n.jsx("svg",{className:g.pinSvg,width:18,height:20,children:n.jsx("use",{href:`${q}#icon-Pin`})})]}),je="_label_15el9_1",be="_checkbox_15el9_7",ve="_equipmentIcon_15el9_48",ye="_typesIcon_15el9_53",Ie="_acIcon_15el9_59",p={label:je,checkbox:be,equipmentIcon:ve,typesIcon:ye,acIcon:Ie},F=({label:e,register:t,type:s,kindOfItems:r})=>{const a=f(),c=s==="checkbox",l=e.icon==="Shower"?"Shower/WC":c?e.icon:e.value,o=e.icon;return n.jsxs(n.Fragment,{children:[n.jsx("input",{className:p.checkbox,...t(r),value:c?e.icon:e.value,id:c?a:e.value,type:s,name:r}),n.jsxs("label",{htmlFor:c?a:e.value,className:p.label,children:[n.jsx("svg",{className:R(p.equipmentIcon,{[p.typesIcon]:!c,[p.acIcon]:o==="AC"}),width:c?32:40,height:c?32:28,children:n.jsx("use",{href:`${q}#icon-${o}`})}),l]})]})},Oe="_equipment_sz517_1",Ne="_result_sz517_7",we="_resultSpan_sz517_7",Se="_equipmentWrapper_sz517_13",Pe="_equipment_list_sz517_28",Ce="_resultAmount_sz517_44",m={equipment:Oe,result:Ne,resultSpan:we,equipmentWrapper:Se,equipment_list:Pe,resultAmount:Ce},Le=({labels:e,register:t})=>{const{campers:s}=y(),r=s.length;return n.jsxs("div",{className:m.equipmentWrapper,children:[r&&n.jsxs("div",{className:m.result,children:[n.jsx("span",{children:"Filters"}),n.jsxs("span",{className:m.resultSpan,children:["On page : ",n.jsx("span",{className:m.resultAmount,children:r})," cars"]})]}),n.jsxs("div",{className:m.equipment,children:[n.jsx("h3",{children:"Vehicle equipment"}),n.jsx("hr",{}),n.jsx("ul",{className:m.equipment_list,children:e==null?void 0:e.map(a=>n.jsx(F,{type:"checkbox",label:a,register:t,kindOfItems:"details"},f()))})]})]})},qe="_type_1awk0_1",We="_type_list_1awk0_21",w={type:qe,type_list:We},ze=({types:e,register:t})=>n.jsxs("div",{className:w.type,children:[n.jsx("hr",{}),n.jsx("h3",{children:"Vehicle type"}),n.jsx("ul",{className:w.type_list,children:e==null?void 0:e.map(s=>n.jsx(F,{type:"radio",label:s,register:t,kindOfItems:"form"},f()))})]}),Fe=()=>{const e=P(C),t=Q(e),s=j(),r=T(),a=J(),{register:c,handleSubmit:l,reset:o}=V({defaultValues:e,resolver:H(G)}),i=M=>{s(k(M))},E=()=>{s(S()),s(D(!1)),s(b({page:1})),o({location:"",details:[],form:""})};return n.jsxs("div",{className:x.formWrapper,children:[t&&n.jsxs("span",{onClick:E,className:x.filterReset,children:[n.jsx(me,{size:22}),"Reset"]}),n.jsxs("form",{className:x.form,onSubmit:l(i),children:[n.jsx(ge,{register:c}),n.jsx(Le,{labels:r,register:c}),n.jsx(ze,{types:a,register:c}),n.jsx(v,{type:"submit",text:"Search"})]})]})},Ee="_catalog_bzrr5_1",Me={catalog:Ee},Ae=()=>{const{isCamperModalOpen:e}=y();return L.useEffect(()=>(e?document.body.classList.add("body--no-scroll"):document.body.classList.remove("body--no-scroll"),()=>{document.body.classList.remove("body--no-scroll")}),[e]),n.jsxs("div",{className:Me.catalog,children:[n.jsx(Fe,{}),n.jsx(se,{}),n.jsx(K,{})]})};function Te(){return n.jsx(n.Fragment,{children:n.jsx(Ae,{})})}export{Te as default};
